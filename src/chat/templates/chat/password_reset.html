{% extends 'base.html' %}

{% block style %}
    {% include 'CSS/password_reset_css.html' %}
    {% include 'CSS/profileIcon_css.html' %}
{% endblock %}

{% block headings %}
    {% include 'chat/profileIcon.html' %}
{%endblock%}

{% block dropdown %}
    <!--the dropdown menu-->
    <div class="list-group profile-icon-list-group">
        <a href="{% url 'chat:profile' %}" class="list-group-item list-group-item-action profile-icon-dropdown-hide">Profile</a>
        <a href="{% url 'chat:logout' %}" class="list-group-item list-group-item-action profile-icon-dropdown-hide">Logout</a>
    </div>

    <!-- Hidden Logout form -->
    <form action="{% url 'chat:logout' %}" method="post" class="logout-form">
        {% csrf_token %}
        <button type="submit">Logout</button>
    </form>
{% endblock %}

{% load crispy_forms_tags %}
{% block content %}
    <div class="container">
        <div class="content-section">
            <div class="d-flex justify-content-center">
                <div class="jumbotron jumbotron-fluid">
                    <form method="post" class='medium'>
                        {% csrf_token %}
                        <fieldset class="form-group">
                            {{form|crispy}}
                        </fieldset>
                        <div class="form-group">
                            <button class="btn btn-outline-info" type="submit">Request Password Reset&nbsp;&nbsp;
                                <svg class="bi bi-envelope" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                    <path fill-rule="evenodd" d="M14 3H2a1 1 0 00-1 1v8a1 1 0 001 1h12a1 1 0 001-1V4a1 1 0 00-1-1zM2 2a2 2 0 00-2 2v8a2 2 0 002 2h12a2 2 0 002-2V4a2 2 0 00-2-2H2z" clip-rule="evenodd"/>
                                    <path fill-rule="evenodd" d="M.071 4.243a.5.5 0 01.686-.172L8 8.417l7.243-4.346a.5.5 0 01.514.858L8 9.583.243 4.93a.5.5 0 01-.172-.686z" clip-rule="evenodd"/>
                                    <path d="M6.752 8.932l.432-.252-.504-.864-.432.252.504.864zm-6 3.5l6-3.5-.504-.864-6 3.5.504.864zm8.496-3.5l-.432-.252.504-.864.432.252-.504.864zm6 3.5l-6-3.5.504-.864 6 3.5-.504.864z"/>
                                </svg>
                            </button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
    <div class="d-flex justify-content-center">
        <div class="alert alert-danger" role="alert">
            <strong>Warning:</strong>&nbsp;
            For security reasons, you will be logged out once the password is reset.&nbsp;&nbsp;&#129488;
            <hr>
            Make sure you enter you email correctly or else the password reset link will not be sent
        </div>
    </div>
{% endblock %}

{% block script %}
    {% include 'clientSideJS/profileIcon_js.html' %}
{% endblock %}